/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/checkout.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/checkout.js":
/*!************************!*\
  !*** ./js/checkout.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function getCookie(name) {\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${name}=`);\n    if (parts.length === 2) return parts.pop().split(';').shift();\n    // return value.split(`; ${name}=`);\n}\n\nfunction getProductByID(products, ID) {\n    let data = '';\n    products.map(prod => {\n        if (prod.productID === ID) {\n            return data = prod\n        }\n        return false\n    })\n    return data\n}\n\nfunction getPackegeByID(_package, ID) {\n    let data = '';\n    _package.map(pck => {\n        if (pck.packageID === ID) {\n\n            return data = pck\n        }\n        return false\n    })\n    return data\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n\n\n\n    let cartItems = read_cookie('cartItems');\n\n    let products = [];\n    let productOffers = [];\n\n    if (cartItems) {\n        let prodIds = []\n        Object.keys(cartItems).length && (prodIds = Object.keys(cartItems).map(key => key));\n\n\n\n        axios.get(path + 'api/products/get_by_id', {\n\n            params: { id: prodIds }\n\n        }).then(data => {\n            data = data.data;\n            data.map(product => {\n                window.products[product.product_id] = product;\n                // let _product = getProductByID(products, cartItem.itemID)\n\n                //             if (typeof _product !== \"undefined\") {\n                //                 totalPrice.push(+_product.productPrice * (+cartItem.itemsQTY));\n                //                 _product.qty = cartItem.itemsQTY;\n                //                 // _product.min = cartItem.itemsQTY;\n                //                 _product.cartPice = (+_product.productPrice) * (+cartItem.itemsQTY);\n\n                populateCartlist(product)\n                    // }\n            })\n\n        })\n    }\n\n\n    // fetch(window.location.origin + '/products/list/all').then(e => e.json())\n    //     .then(data => {\n    //         products = [...data];\n    //         fetch(window.location.origin + '/offers.json').then(e => e.json())\n    //             .then(_data => {\n    //                 productOffers = [..._data]\n\n\n    //                 cartItems.map(cartItem => {\n\n    //                     if (cartItem.packageID === '') {\n    //                         let _product = getProductByID(products, cartItem.itemID)\n\n    //                         if (typeof _product !== \"undefined\") {\n    //                             totalPrice.push(+_product.productPrice * (+cartItem.itemsQTY));\n    //                             _product.qty = cartItem.itemsQTY;\n    //                             // _product.min = cartItem.itemsQTY;\n    //                             _product.cartPice = (+_product.productPrice) * (+cartItem.itemsQTY);\n\n    //                             populateCartlist(_product)\n    //                         }\n\n    //                     } else {\n\n    //                         let _package = {\n    //                             package: getPackegeByID(productOffers, cartItem.packageID),\n    //                             packageItem: getProductByID(products, cartItem.itemID),\n    //                         };\n\n    //                         if (typeof _package !== \"undefined\") {\n    //                             let priceXQTY = (+_package.packageItem.productPrice * (+_package.package.from));\n    //                             let percentageOff = getPacentageOff((priceXQTY), (+_package.package.packageOffer));\n    //                             console.log((+_package.package.packageOffer));\n    //                             totalPrice.push(priceXQTY - (percentageOff));\n\n    //                             _package.packageItem.qty = _package.package.from;\n    //                             _package.packageItem.min = _package.package.from;\n    //                             _package.packageItem.max = _package.package.to;\n    //                             _package.packageItem.cartPice = priceXQTY - (percentageOff);\n    //                             _package.packageItem.cartOffer = (+_package.package.packageOffer);\n\n    //                             populateCartlist(_package.packageItem)\n\n    //                         }\n\n    //                     }\n    //                 })\n\n    //                 // TODO: Get total and subtotal based on the product price\n    //                 // console.log(totalPrice)\n    //                 cartTotal(totalPrice)\n\n\n    //             });\n    //         console.log(summeryData)\n    //     })\n\n\n});\n\nfunction initializeNavMenu() {\n    if (typeof M !== \"undefined\") {\n        const navMenu = document.querySelector('#menu-nav');\n        if (navMenu)\n            M.Sidenav.init(navMenu);\n    }\n}\n\nfunction initializeTabs() {\n    if (typeof M !== \"undefined\") {\n        const update_tabs = document.querySelectorAll('.tabs');\n\n        if (update_tabs.length) {\n            M.Tabs.init(update_tabs);\n        }\n    }\n}\n\nfunction initializeAOSAnimations() {\n    if (typeof AOS !== \"undefined\")\n        AOS.init();\n}\n\n// product page tab function\nfunction openTab(evt, tabName) {\n\n    var i, tabcontent, tablinks;\n\n    tabcontent = document.getElementsByClassName(\"tabcontent\");\n    for (i = 0; i < tabcontent.length; i++) {\n        tabcontent[i].style.display = \"none\";\n\n    }\n\n\n    tablinks = document.getElementsByClassName(\"tab__wrapper__container__tablinks\");\n    for (i = 0; i < tablinks.length; i++) {\n        tablinks[i].className = tablinks[i].className.replace(\"active\", \" \");\n    }\n\n    document.getElementById(tabName).style.display = \"block\";\n    evt.currentTarget.className += \" active\";\n\n}\n\n\n// Billing form checkbox check event\nfunction checkbilling() {\n\n    let checkBox = document.getElementById('checkbox');\n\n    let billingForm = document.querySelector('#billing_form');\n\n    if (checkBox.checked === true) {\n        billingForm.classList.add('real_billing');\n        billingForm.classList.remove('formheight');\n    } else {\n        billingForm.classList.remove('real_billing');\n        billingForm.classList.add('formheight');\n\n    }\n}\n\n\n// CVV Card hover effect \n\nlet image = document.getElementById('cvvImage');\n\n\nfunction showCard(x) {\n    image.style.display = 'block';\n}\n\nfunction hideCard(x) {\n    image.style.display = 'none';\n}\n\n\n// checkout page payment tab slider \n\nfunction openPayment(evt, PaymentLogo, PaymentTab) {\n\n    var i, paymentCard, paymentPane;\n\n    paymentCard = document.getElementsByClassName(\"paymentcard\");\n    for (i = 0; i < paymentCard.length; i++) {\n        paymentCard[i].classList.remove('active')\n    }\n\n\n    paymentPane = document.getElementsByClassName(\"paymentpane\");\n    for (i = 0; i < paymentPane.length; i++) {\n        paymentPane[i].classList.remove('active')\n    }\n\n\n    document.getElementById(PaymentLogo).classList.add('active');\n    document.getElementById(PaymentTab).classList.add('active');\n\n    let prent = evt.currentTarget.parentElement;\n\n    prent.querySelector('.active').classList.remove('active')\n    evt.currentTarget.classList.add(\"active\");\n}\n\n\n\n\n\nfunction productTemp(product) {\n    function renderMin(prod) {\n        return typeof prod.min !== 'undefined' ? 'min=\"' + prod.min + '\"' : ''\n    }\n\n    function renderMax(prod) {\n        return typeof prod.max !== 'undefined' ? 'max=\"' + prod.max + '\"' : ''\n    }\n\n    function renderOffer(prod) {\n        return typeof prod.cartOffer !== 'undefined' ? '-' + prod.cartOffer + '%' : ''\n    }\n    return `<div class=\"checkout__content__cart__productwrapper cart\" id=\"product_wrapper_${product.product_id}\">\n    <div class=\"checkout__content__cart__productimg\">\n        <img class=\"checkout__content__cart__productpic\" src=\"${path+product.product_img}\" alt=\" \">\n    </div>\n\n    <div class=\"checkout__content__cart__productcontent \">\n         <h6 class=\"checkout__content__cart__productcontent__percentageoff\"><span id=\"percentageoff\">${renderOffer(product)}</span></h6>\n        <h4 class=\"checkout__content__cart__productcontent__producttitle \">${product.name+' '+product.product_model}</h4>\n        <h6 class=\"checkout__content__cart__productcontent__currentprice \">${globalCurrency.name} ${formatMoney(product.price*globalCurrency.rate) }</h6>\n        <div class=\"checkout__content__cart__productcontent__counter \">\n            <h6 class=\"checkout__content__cart__productcontent__counter__quantity \">QTY: \n            \n            </h6>\n\n            <button type=\"button\" onclick=\"productDecreament('${product.product_id}')\" class=\"art_btn waves-effect waves-light checkout__content__cart__productcontent__counter__minus\">\n                <em class=\"material-icons\">remove</em>\n            </button>\n\n            <div class=\"checkout__content__cart__productcontent__counter__quantity-number\"><input type=\"number\" ${renderMin(product)} ${renderMax(product)} value=\"${product.qty}\" size=\"5\" id=\"prod_qty_${product.product_id}\" readonly disabled></div>\n\n            <button type=\"button\" onclick=\"productIncream('${product.product_id}')\" class=\"art_btn  waves-effect waves-light  checkout__content__cart__productcontent__counter__plus\">\n                <em class=\"material-icons\">add</em>\n            </button>\n            <button type=\"button\" onclick=\"removeCart('${product.product_id}')\" class=\"art_btn  waves-effect waves-light  checkout__content__cart__productcontent__counter__plus checkout__content__cart__productcontent__counter__delete\">\n                <em class=\"material-icons\">delete</em>\n            </button>\n\n\n        </div>\n\n    </div>\n</div> `\n}\nlet summeryData = {}\nlet totalPrice = [];\n\nfunction populateCartlist(prod) {\n    let cartlist = document.querySelector(\"#cartlist\");\n\n    // summeryData[prod.productID] = prod;\n    summeryData[prod.product_id] = prod;\n    cartlist.innerHTML += productTemp(prod);\n}\n\nfunction getPacentageOff(priceXQTY, pacentageOff) {\n    return (priceXQTY) * (pacentageOff) / 100\n}\n\n\n\nfunction productIncream(prodID) {\n    let element_prod_qty = document.querySelector('#prod_qty_' + prodID);\n\n    if (element_prod_qty.getAttribute('max')) {\n        if ((+element_prod_qty.value + 1) <= +element_prod_qty.getAttribute('max')) {\n            element_prod_qty.value = (+element_prod_qty.value + 1);\n        }\n    } else {\n        element_prod_qty.value = (+element_prod_qty.value + 1);\n    }\n\n    updateSummerCart(prodID, element_prod_qty.value);\n}\n\nfunction productDecreament(prodID) {\n    let element_prod_qty = document.querySelector('#prod_qty_' + prodID);\n\n    if (element_prod_qty.getAttribute('min')) {\n        if ((+element_prod_qty.value - 1) >= (+element_prod_qty.getAttribute('min'))) {\n            element_prod_qty.value = (+element_prod_qty.value - 1);\n        }\n    } else {\n        if ((+element_prod_qty.value - 1) >= 1) {\n            element_prod_qty.value = (+element_prod_qty.value - 1);\n        }\n    }\n    updateSummerCart(prodID, element_prod_qty.value)\n\n}\n\nfunction removeCart(prodID) {\n    let element_prod = document.querySelector('#product_wrapper_' + prodID);\n\n    element_prod.remove();\n    let removed = {};\n    Object.keys(summeryData).map(key => {\n        if (key !== prodID) {\n            removed[key] = summeryData[key]\n        }\n    });\n\n    summeryData = removed;\n    removed = {}\n    populateTotalPrice()\n        // console.log(summeryData);\n        // console.log(allCart_price);\n\n\n}\n\nfunction updateSummerCart(prodID, prod_qty_value) {\n\n    summeryData[prodID].qty = prod_qty_value;\n\n    if (typeof summeryData[prodID].cartOffer === 'undefined') {\n        summeryData[prodID].cartPice = (+summeryData[prodID].productPrice) * (+summeryData[prodID].qty)\n    } else {\n        let cartPriceXQTY = ((+summeryData[prodID].productPrice) * (+summeryData[prodID].qty));\n        let percentageOff = getPacentageOff(cartPriceXQTY, summeryData[prodID].cartOffer);\n\n        summeryData[prodID].cartPice = cartPriceXQTY - percentageOff;\n\n    }\n\n    populateTotalPrice()\n\n}\n\nfunction populateTotalPrice() {\n    totalPrice = []\n    for (let key in summeryData) {\n\n        totalPrice.push(summeryData[key].cartPice)\n    }\n    cartTotal(totalPrice)\n}\n\nfunction cartTotal(allCart_price) {\n    let SubTotal = document.getElementById(\"cart-subtotal-value\");\n    let Total = document.getElementById(\"cart-total-value\"); //\n    let ShippingCost = Number(document.getElementById(\"cart-shipping-value\").textContent); //\n\n    let sumPrice = 0;\n\n    allCart_price.map(price => sumPrice += price);\n\n    SubTotal.innerHTML = 'Ksh ' + sumPrice;\n    let totalCost = ShippingCost + sumPrice;\n    Total.innerHTML = 'Ksh ' + totalCost;\n    return sumPrice;\n\n\n}\n\n//# sourceURL=webpack:///./js/checkout.js?");

/***/ })

/******/ });